#include <Wire.h> // Include the Wire library for I2C communication

const int outPin = 0; // Change the outPin to 0 for I2C communication

void setup() {
    Wire.begin(); // Initialize the I2C communication
    
    // Set the multiplexer control pins as outputs
    pinMode(s0, OUTPUT);
    pinMode(s1, OUTPUT);
    pinMode(s2, OUTPUT);
    pinMode(s3, OUTPUT);
    
    // Initialize the serial communication
    Serial.begin(9600);
}

void loop() {
    // Iterate through all possible combinations of the multiplexer inputs
    for (int i = 0; i < 16; i++) {
        // Set the multiplexer control pins based on the current iteration
        digitalWrite(s0, i & 0x01);
        digitalWrite(s1, (i >> 1) & 0x01);
        digitalWrite(s2, (i >> 2) & 0x01);
        digitalWrite(s3, (i >> 3) & 0x01);
        
        // Read the value from the multiplexer output pin
        int value = analogRead(outPin);
        
        // Print the value to the serial monitor
        Serial.print("Input ");
        Serial.print(i);
        Serial.print(": ");
        Serial.println(value);
        
        // Delay for a short period of time
        delay(100);
    }
}